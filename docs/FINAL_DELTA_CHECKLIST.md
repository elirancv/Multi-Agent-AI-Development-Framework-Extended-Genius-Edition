# Final Delta Checklist - Pre-Tag Verification

Last-minute checks before tagging v1.0.0.

## ✅ Required Checks (2-5 minutes)

### 1. Badge URLs
- [ ] **Version badge**: Updated `your-org/AgentsSystemV2` → `<owner>/<repo>`
- [ ] **Coverage badge**: Updated Codecov URL to actual repo
- [ ] **All badges**: Verified links work on GitHub

**Quick check**:
```bash
grep -n "your-org\|AgentsSystemV2" README.md
```

### 2. CI Secrets
- [ ] **CODECOV_TOKEN**: Set (if private repo) - Optional for public
- [ ] **PYPI_TOKEN**: Set (for v1.1+) - Format: `pypi-...`
- [ ] **GPG Key**: Configured (if enforcing signed tags)

**Verify**:
- Repository Settings → Secrets and variables → Actions
- See `docs/CI_SECRETS.md` for details

### 3. Plugin Loader Smoke Test
```bash
# Create minimal test plugin locally
mkdir -p test-plugin/test_plugin/agents test-plugin/test_plugin/advisors

# Create test_agent.py (see docs/PLUGIN_TEMPLATE.md)
# Create test_advisor.py (see docs/PLUGIN_TEMPLATE.md)
# Create pyproject.toml with entry points

# Install and test
pip install -e test-plugin/

python - <<'PY'
from src.orchestrator.plugin_loader import load_plugins

agents = load_plugins("multiagent.agents")
advs = load_plugins("multiagent.advisors")

print("agents:", list(agents.keys()))
print("advisors:", list(advs.keys()))

# Should show test.TestAgent, test.TestAdvisor if plugin installed
PY
```

**Expected**: Plugin discovered and loadable

### 4. Coverage Threshold
- [ ] **Review `codecov.yml`**: Thresholds are realistic (85% default)
- [ ] **Component gates**: Set appropriately (core ≥ 95%, orchestrator ≥ 90%)
- [ ] **Not too strict**: Won't block PRs unnecessarily

**Current settings**:
- Default: 85%
- Core: 95%
- Orchestrator: 90%
- Agents/Advisors: 80%

## ✅ Tag & Release Commands

### Sanity Checks
```bash
# Version
python cli.py --version
# Expected: 1.0.0

# Dry-run
python cli.py --pipeline pipeline/production.yaml --dry-run --export-graph out/pipeline.dot
# Expected: Pipeline validates, graph exported

# Smoke tests
python scripts/smoke_test.py --skip-slow --json
# Expected: Tests pass (may fail without artifacts - OK)
```

### Tag & Push
```bash
# Bash
CREATE_TAG=true SIGN_TAG=true TAG_NAME=v1.0.0 ./scripts/commit_push.sh

# PowerShell
.\scripts\commit_push.ps1 -CreateTag:$true -SignTag:$true -TagName "v1.0.0"
```

### GitHub Release
1. Go to: `https://github.com/<owner>/<repo>/releases/new`
2. **Tag**: `v1.0.0`
3. **Title**: `Release v1.0.0`
4. **Body**: Copy from `docs/GITHUB_RELEASE_SHORT_v1.0.0.md` (ultra-short) or `GITHUB_RELEASE_BODY_v1.0.0.md` (full)
5. **Assets**: Attach `sbom/sbom.json`, `sbom/sbom.xml` (auto-generated by CI)

## ✅ Post-Release Verification

- [ ] Tag exists on GitHub
- [ ] Release published
- [ ] SBOM attached (check release artifacts)
- [ ] Nightly tests scheduled
- [ ] Retention job scheduled
- [ ] Badges show correct status

## See Also

- [Final Verification](FINAL_VERIFICATION.md)
- [Pre-Release Sanity](PRE_RELEASE_SANITY.md)
- [Definition of Done](DEFINITION_OF_DONE_v1.0.md)
- [CI Secrets](CI_SECRETS.md)

