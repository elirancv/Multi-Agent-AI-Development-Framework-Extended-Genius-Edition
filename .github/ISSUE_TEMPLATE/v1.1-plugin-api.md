---
name: Plugin API for External Agents/Advisors
about: Enable loading Agents/Advisors from 3rd-party packages without modifying core
title: "[v1.1] Plugin API for External Agents/Advisors"
labels: ["enhancement", "v1.1", "plugin-api"]
assignees: []
---

## Overview

Enable loading Agents/Advisors from external packages using Python entry points, allowing 3rd-party developers to extend the framework without modifying core code.

## Goals

- **Plugin Discovery**: Automatically discover Agents/Advisors from installed packages
- **Entry Points**: Use Python `entry_points` mechanism (setuptools)
- **Stable Contracts**: Maintain `BaseFunctionalAgent` and `BaseAdvisor` contracts
- **Dynamic Loading**: Load plugins at runtime without code changes
- **Validation**: Verify plugin compatibility and contracts

## Requirements

### 1. Entry Point Specification

Define entry point groups in `pyproject.toml`:

```toml
[project.entry-points."multiagent.agents"]
custom-agent = "my_package.agents:CustomAgent"

[project.entry-points."multiagent.advisors"]
custom-advisor = "my_package.advisors:CustomAdvisor"
```

### 2. Plugin Loader

Create `src/orchestrator/plugin_loader.py`:

```python
def discover_agents() -> Dict[str, Type[BaseFunctionalAgent]]:
    """Discover all registered agents from entry points."""
    pass

def discover_advisors() -> Dict[str, Type[BaseAdvisor]]:
    """Discover all registered advisors from entry points."""
    pass
```

### 3. Integration

- Update `agent_factory()` to check plugins first, then core agents
- Update `advisor_factory()` similarly
- Add plugin validation (contract checking)

### 4. Documentation

- Plugin development guide
- Example plugin package
- Plugin registration examples

## Acceptance Criteria

- [ ] Entry points defined in `pyproject.toml`
- [ ] Plugin loader implemented
- [ ] Factory functions updated to use plugins
- [ ] Plugin validation implemented
- [ ] Example plugin package created
- [ ] Documentation complete
- [ ] Tests for plugin loading
- [ ] Tests for plugin validation

## Related Issues

- #XXX - BaseFunctionalAgent/Advisor contract stability
- #XXX - Pipelines Gallery (may use plugins)

## References

- [Python Entry Points](https://setuptools.readthedocs.io/en/latest/userguide/entry_point.html)
- [Plugin Architecture Patterns](https://docs.python.org/3/library/importlib.html)

## Estimated Effort

**Medium** (2-3 days)

## Priority

**High** - Enables ecosystem growth
